<div ng-include="'./../components/includes/_mainHeader.html'"></div>
<main>
  <div class="panel-heading">
    <div class="col-md-6 col-md-offset-3" style="text-align: center;">
      <h2>Solicitud de proyecto para Cenfotec Software House</h2>
    </div> 
  </div>
  <div class="projectsRequest col-md-12">
    <form name="projectRequest" class="container" autocomplete="off" ng-submit="vm.preSave(vm.project)" novalidate>
      <!-- Nombre de la empresa -->
      <div class="form-group col-md-3 col-sm-12 col-xs-12 ibck">
        <label for="#companyName">Nombre de la empresa:</label>
        <input type="text" ng-model="vm.project.client.companyName" id="companyName" title="Nombre de la empresa" class="form-control" name="companyName" required>
        <div ng-messages="projectRequest.companyName.$error" ng-hide="projectRequest.companyName.$pristine">
          <div id="ng-message" ng-message="required" ng-hide="projectRequest.companyName.$pristine" class="red darken-2 center-align white-text">El nombre de la empresa es requerido</div>
        </div>
      </div>
      <!-- Cedula Fisica o Juridica -->
      <div class="form-group col-md-3 col-sm-12 col-xs-12 ibck">
        <label for="#idCompany">Cédula de la empresa:</label>
        <input type="text" ng-model="vm.project.client.idNum" id="idCompany" title="Cédula jurídica o física" class="form-control" name="nId" pattern="[0-9]+" maxlength="10" minlength="9" required>
        <div ng-messages="projectRequest.nId.$error" ng-hide="projectRequest.nId.$pristine" required>
          <div id="ng-message" ng-message="required" class="red darken-2 center-align white-text">La cédula es requerida</div>
          <div id="ng-message" ng-message="pattern" class="red darken-2 center-align white-text">Favor ingresar únicamente números</div>
          <div id="ng-message" ng-message="maxlength" class="red darken-2 center-align white-text">Complete la cantidad de números</div>
          <div id="ng-message" ng-message="minlength" class="red darken-2 center-align white-text">Complete la cantidad de números</div>
        </div>
      </div>
      <!-- Industria de la empresa -->
      <div class="form-group col-md-3 col-sm-12 col-xs-12 ibck">
        <label for="#Industria de la empresa">Industria de la empresa:</label>
        <input type="text" ng-model="vm.project.client.industry" id="industry" title="Industria de la empresa" class="form-control" name="industry" pattern="[ñáéíóúA-Za-z ]+" placeholder="Ej: Comercio" required>
        <div ng-messages="projectRequest.client.industry.$error" ng-hide="projectRequest.industry.$pristine">
          <div id="ng-message" ng-message="required" ng-hide="projectRequest.industry.$pristine" class="red darken-2 center-align white-text">La industria del proyecto es requerida.</div>
          <div id="ng-message" ng-message="pattern" ng-hide="projectRequest.industry.$pristine" class="red darken-2 center-align white-text">Favor ingresar únicamente letras</div>
        </div>
      </div>
      <!-- Fondos para el proyecto -->
      <div class="form-group col-md-3 col-sm-12 col-xs-12 ibck">
        <label for="money">Fondos para el proyecto:</label>
        <input type="text" ng-model="vm.project.money" id="money" title="Fondos para el proyecto" class="form-control" name="money" placeholder="$ (En dólares)" pattern="[0-9]+" required>
        <div ng-messages="projectRequest.money.$error" ng-hide="projectRequest.money.$pristine" required>
          <div id="ng-message" ng-message="required" class="red darken-2 center-align white-text">El presupuesto del proyecto es requerido.</div>
          <div id="ng-message" ng-message="pattern" class="red darken-2 center-align white-text">Favor ingresar únicamente números</div>
        </div>
      </div>
      <!-- Encargado del proyecto -->
      <div class="form-group col-md-4 col-sm-12 col-xs-12 ibck">
        <label for="#projectManager">Encargado del proyecto:</label>
        <input type="text" ng-model="vm.project.client.manager" id="projectManager" title="Nombre del encargado del proyecto" class="form-control" name="projectManager" pattern="[ñáéíóúA-Za-z ]+" required>
        <div ng-messages="projectRequest.projectManager.$error" ng-hide="projectRequest.projectManager.$pristine">
          <div id="ng-message" ng-message="required" ng-hide="projectRequest.projectManager.$pristine" class="red darken-2 center-align white-text">El encargado del proyecto es requerido</div>
          <div id="ng-message"  ng-message="pattern" ng-hide="projectRequest.projectManager.$pristine" class="red darken-2 center-align white-text">Favor ingresar únicamente letras</div>
        </div>
      </div>
      <!-- Correo electronico -->
      <div class="form-group col-md-4 col-sm-12 col-xs-12 ibck">
        <label for="#email">Correo electrónico:</label>
        <input type="email" ng-model="vm.project.client.email" id="email" title="Correo electrónico del encargado del proyecto" class="form-control" name="email" required>
        <div ng-messages="projectRequest.email.$error" ng-hide="projectRequest.email.$pristine">
          <div id="ng-message" ng-message="required" class="red darken-2 center-align white-text">El correo electrónico es requerido</div>
          <div id="ng-message" ng-message="pattern" class="red darken-2 center-align white-text">Correo invalido</div>
        </div>
      </div>
      <!-- Nombre del proyecto -->
      <div class="form-group col-md-4 col-sm-12 col-xs-12 ibck">
        <label for="#projectName">Nombre del proyecto:</label>
        <input type="text" ng-model="vm.project.name" id="projectName" title="Nombre del proyecto" class="form-control" name="projectName" placeholder="Ej: Aplicación de iOS" required >
        <div ng-messages="projectRequest.projectName.$error" ng-hide="projectRequest.projectName.$pristine">
          <div id="ng-message"  ng-message="required" ng-hide="projectRequest.projectName.$pristine" class="red darken-2 center-align white-text">El nombre del proyecto es requerido</div>
        </div>
      </div>
       <!-- Objetivo del proyecto -->
      <div class="form-group col-md-4 col-sm-12 col-xs-12">
        <label for="#projectObjetive">Ingrese el objetivo del proyecto:</label>
        <input type="text" ng-model="vm.project.objective" id="projectObjetive" title="Objetivo General del proyecto" class="form-control" name="projectObjetive" required>
        <div ng-messages="projectRequest.projectObjetive.$error" ng-hide="projectRequest.projectObjetive.$pristine">
          <div id="ng-message" ng-message="required" ng-hide="projectRequest.projectObjetive.$pristine" class="red darken-2 center-align white-text">El objetivo del proyecto es requerido</div>
        </div>
      </div>
      <!-- Resumen ejecutivo -->
      <div class="form-group col-md-4 col-sm-12 col-xs-12 ibck">
        <label for="#resume">Resumen ejecutivo:</label>
        <div class="input-group">
          <label class="input-group-btn">
            <a><p ng-click="vm.project.pickFile()"  class="btn btn-primary" style="background-color: #FBB803; color: black">Seleccion&hellip;<input style="display: none;" id="cv" ng-model="vm.project.resume" multiple>
            </p></a>
          </label>
          <input  ng-if="vm.loading" value="Cargando..." type="text" class="form-control" style="color: black" readonly>
          <input  ng-if="!vm.loading" ng-model="vm.fileName" type="text" class="form-control" style="color: black" readonly>
        </div>
      </div>    
      <!-- Imagenes del proyecto -->
      <div class="form-group col-md-4 col-sm-12 col-xs-12 ibck">
        <label for="images">Seleccione una imagen: </label>
        <div class="input-group">
          <label class="input-group-btn">
            <span class="btn btn-primary" style="background-color: #FBB803; color: black">Escoger&hellip;<input type="file" style="display: none;" id="imageProjectRequest" multiple ng-model="vm.project.projectImages">
            </span>
          </label>
          <input type="text" class="form-control" style="color: black" readonly>
        </div>
      </div>  
      <!-- boton -->
      <div class="form-group col-md-12 col-sm-12 col-xs-12" style="display: block; text-align: center;"> 
        <button type="submit" id="btnRegister" data-target="#modal" ng-disabled="projectRequest.$invalid" data-toggle="modal" class="btn btn-warning btn-embossed" ng-click="projectRequest.$setPristine()">Enviar solicitud</button>
      </div>
      <!-- Modal-->
      <div class="col-md-8 col-md-offset-4">  
        <div class="modal fade" id="modal" role="dialog">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h2 id="colorWhite">{{vm.modal.title}}</h2>
                <button type="button" class="close" id="thex" data-dismiss="modal"><i class="fa fa-times"></i></button>
              </div>
              <div class="modal-body">
                <p class="text-center">{{vm.modal.body}}</p>        
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</main>